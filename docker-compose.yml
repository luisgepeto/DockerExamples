version: '2'

services:
  mongo:
    build:
      context: .docker/
      dockerfile: mongo.dockerfile
    networks:      
      - mongo
    container_name: mongo
    
  mongo-seed:
    build:
      context: .docker/
      dockerfile: mongo-seed.dockerfile
    depends_on:
      - mongo
    command: ["./wait-for-it.sh", "mongo:27017"]
    networks:
      - mongo
    container_name: mongo-seed

networks:  
  mongo:
    driver: bridge